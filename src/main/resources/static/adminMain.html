<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>管理员主页</title>
    <link rel="stylesheet" href="./css/foundation.min.css">
    <script src="js/vendor/jquery.js"></script>
    <link rel="stylesheet" href="css/foundation.css">
    <link rel="stylesheet" href="css/app.css">

    <script>
        $(document).ready(function() {
            $(document).foundation();
        });
    </script>

    <script>

        $(document).ready(function() {
            findAllLevel();
        });

        function findAllLevel(){
            $.ajax({
                url: "/level/findAllLevel",
                dataType: "text",
                success: function (result) {
                   var levelList = $.parseJSON(result);
                   loadAllLevel(levelList);
                },
                error: function (e) {
                    alert("错误")
                }
            });
        }
        function loadAllLevel(levelList){
            $("#content").empty();
            for(var i = 0;i<levelList.length;i++){
                var level = levelList[i];
                var grade = level.grade;
                var experienceNeed = level.experienceNeed;
                var description = level.description;
                var rate = level.rate;


                var div1 = document.createElement("div");
                $(div1).addClass("cell small-12 medium-4 large-3 padding_vertical");
                var div2 = document.createElement("div");
                $(div2).addClass("grid-padding-x content_center").css({"box-shadow": "10px 10px 5px #888888","width":"150px","border-radius": "5px"});
                var div3_1 = document.createElement("div");
                $(div3_1).addClass("large-12 medium-12 ").css({"overflow":"hidden","background-color":"#3adb76", "height":"100px"});
                var span = document.createElement("span");
                $(span).css("padding: 0px auto");
                $(span).text("关卡"+grade);
                $(div3_1).append(span);
                var div3_2 = document.createElement("div");
                $(div3_2).addClass("large-12 medium-12 ").css({"overflow": "hidden", "height": "50px"});
                $(div3_2).text(description);
                div2.append(div3_1);
                div2.append(div3_2);
                div1.append(div2);

                $("#content").append(div1);

            }
        }



        function addLevel(){

            var grade = $("#grade").val();
            var experience_need = $("#experience_need").val();
            var description = $("#description").val();
            var rate = $("#rate").val();

            if(grade=="" || experience_need == "" || description == "" || rate == ""){
                $("#message").text("请输入完整").css({color:"red"});
                return false;
            }
            var level = new Object();
            level.grade = grade;
            level.experienceNeed = experience_need;
            level.description = description;
            level.rate = description;

            var levelStr = JSON.stringify(level);

            $.ajax({
                url: "/level/addLevel",
                dataType: "text",
                type: "post",
                data: {"level":levelStr},
                success: function (result) {
                    if(result == true){
                        alert("添加成功");
                    }
                },
                error: function (e) {
                    alert("错误")
                }
            });
        }

    </script>

    <style>
        div{
            border: 1px solid;
        }


    </style>


</head>
<body>
<div id="header">
    <script>$("#header").load("nav.html")</script>
</div>

<div class="grid-container  fluid margin_top" >
    <div id="content" class="grid-x grid-margin-x grid-margin-y">
        <!--div1-->
        <div class="cell small-12 medium-4 large-3 padding_vertical" >
            <!--div2-->
            <div class="grid-padding-x content_center" style="box-shadow: 10px 10px 5px #888888; width: 150px;border-radius: 5px">
                <!--div3_img-->
                <div class="large-12 medium-12 content_center" style="overflow: hidden; background-color: #3adb76; height: 100px;">
                    <span style="padding: 0px auto">关卡1</span>
                </div>
                <!--div3_content-->
                <div class="large-12 medium-12 content_center" style="overflow: hidden; height: 50px;" >
                    关卡描述 关卡描述关卡描述 关卡描述关卡描述 关卡描述关卡描述 关卡描述关卡描述 关卡描述关卡描述 关卡描述
                </div>
            </div>
        </div>








    </div>
</div>

</body>
</html>


<script src="js/vendor/what-input.js"></script>
<script src="js/vendor/foundation.js"></script>
<script src="js/app.js"></script>